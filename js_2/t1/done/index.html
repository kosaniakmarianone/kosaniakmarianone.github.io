<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Test</h1>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <script>
        //увесь код у цьому скрипті перенести у інший файл і підключити його. Для завдання 4.
        //Start
        const firebaseConfig = {
            apiKey: "AIzaSyA7KHlFAo8Qja8q9JjawiRmjbTfULRbg7U",
            authDomain: "sl-t-20359.firebaseapp.com",
            projectId: "sl-t-20359",
            storageBucket: "sl-t-20359.appspot.com",
            messagingSenderId: "166422962560",
            appId: "1:166422962560:web:00984fbca2c4f4d1f1a165",
            measurementId: "G-8RN120XBPZ"
        };

        firebase.initializeApp(firebaseConfig);

        var db = firebase.firestore();
        //Тепер до бази можна звертатись по змінній - db
        //End
      </script>

      <script>
            //Як відобразити кожен збережений документ (об'єкт) у колекції
            db.collection("users").get().then(res => {
                res.forEach(doc => {
                    console.log(doc.data());
                });
            });

            //Як отримати масив із збережених у базі данних об'єктів 
            const users = [];
            db.collection("users").get().then(res => {
                res.forEach(doc => users.push(doc.data()));
                console.log(users)
            });

            //Якщо потрібні id документів тоді їх потрібно додавати окремо
            const users_2 = [];
            db.collection("users").get().then(res => {
                res.forEach(doc => {
                    const user = doc.data();
                    user.id = doc.id;
                    users_2.push(user)
                });
                console.log(users)
            });

            //Скорочений запис з використанням новвоведень у js
            const users_3 = [];
            db.collection("users").get().then(res => {
                res.forEach(doc => {
                    users_3.push({id: doc.id, ...doc.data()})
                });
                console.log(users)
            });
      </script>
</body>
</html>